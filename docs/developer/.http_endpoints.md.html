<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>/home/ntl/git/health-patterns/services/nlp-insights/doc/developer/.http_endpoints.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1> <a id="http-endpoints" class="anchor" href="#http-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP Endpoints</h1> 
<h2> <a id="discover-insights" class="anchor" href="#discover-insights" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Discover Insights</h2> 
<p>The discoverInsights API accepts an input bundle and returns an updated bundle with:</p> 
<ul> 
 <li>Resources that have been enriched with additional codes</li> 
 <li>Resources that have been derived from unstructured text (such as clinical notes) contained within the bundle's resources.</li> 
</ul> 
<table> 
 <thead> 
  <tr> 
   <th align="center">Action</th> 
   <th align="center">Method</th> 
   <th align="left">Endpoint</th> 
   <th align="center">Body</th> 
   <th align="center">Returns on Success</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td align="center">Add insights</td> 
   <td align="center"><code>POST</code></td> 
   <td align="left"><code>/discoverInsights</code></td> 
   <td align="center">FHIR bundle</td> 
   <td align="center">Enriched FHIR Bundle</td> 
  </tr> 
 </tbody> 
</table> 
<p>Derived and Enriched types are described in the tutorials.</p> 
<ul> 
 <li><a href="../examples/acd/.derive_new_resources.md.html">Derive new resources with ACD</a></li> 
 <li><a href="../examples/acd/.enrich.md.html">Enrich resources with ACD</a></li> 
 <li><a href="../examples/quickumls/.derive_new_resources.md.html">Derive new resources with QuickUMLS</a></li> 
 <li><a href="../examples/quickumls/.enrich.md.html">Enrich resources with QuickUmls</a></li> 
</ul> 
<details>
 <summary>Experimental support for non-bundle resources</summary> 
 <p>If the discoverInsights API is called with a FHIR resource that is <em>Not</em> a bundle, then the returned data depends on the input type:</p> 
 <table> 
  <thead> 
   <tr> 
    <th>Body Type</th> 
    <th>Returns</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>DiagnosticReport or Document Reference</td> 
    <td>A bundle of derived resources, or an empty bundle if no resources were derived.</td> 
   </tr> 
   <tr> 
    <td>Condition or AllergyIntolerance</td> 
    <td>The resource is returned with additional codes, or with no additional codes if no codes were derived.</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>Other resource types <em>may</em> return an error.</p> 
 <p>When using this API resources <strong>must</strong> have a valid identifier. Because health-patterns will invoke the service before creating resources in thie FHIR server, the identifier has not been set. The result is that this version of the API is not as useful in an ingestion pipeline, and therefore is discouraged/experimental.</p> 
 <p>The version of the API that accepts a bundle input makes use of the fullUrl property in the bundleEntry for each resource (setting the property if necessary), and this allows that variation to support the requirements of health-patterns.</p> 
</details> 
<h2> <a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h2> 
<p>The app currently supports running two different NLP engine types:</p> 
<ul> 
 <li> <a href="https://www.ibm.com/cloud/watson-annotator-for-clinical-data" rel="nofollow">IBM's Annotator for Clinical Data (ACD)</a> and</li> 
 <li><a href="https://github.com/Georgetown-IR-Lab/QuickUMLS" rel="nofollow">open-source QuickUMLS</a></li> 
</ul> 
<p>It is possible to configure as many different instances of these two engines as needed with different configuration details.</p> 
<h3> <a id="configuration-definition" class="anchor" href="#configuration-definition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration Definition</h3> 
<p>The configuration definition jsons that are used by the APIs require a <code>name</code>, an <code>nlpServiceType</code> (either <code>acd</code> or <code>quickumls</code>), and config details specific to that type.</p> 
<h4> <a id="quickumls" class="anchor" href="#quickumls" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>QuickUmls</h4> 
<p>For QuickUmls, an <code>endpoint</code> is required.</p> 
<p>Sample configuration json:</p> 
<div class="highlight highlight-source-json">
 <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>name<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>quickconfig1<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>nlpServiceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>quickumls<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>config<span class="pl-pds">&quot;</span></span>: {
    <span class="pl-s"><span class="pl-pds">&quot;</span>endpoint<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>https://quickumls.wh-health-patterns.dev.watson-health.ibm.com/match<span class="pl-pds">&quot;</span></span>
  }
}</pre>
</div> 
<h4> <a id="acd" class="anchor" href="#acd" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ACD</h4> 
<p>For ACD, an <code>endpoint</code>, an <code>apikey</code>, and a <code>flow</code> are required. The nlp-insights service is desgined to work with the flow <code>wh_acd.ibm_clinical_insights_v1.0_standard_flow</code>, other flows may require code modifications.</p> 
<p>Sample Configuration json:</p> 
<div class="highlight highlight-source-json">
 <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>name<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>nlpServiceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acd<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>config<span class="pl-pds">&quot;</span></span>: {
    <span class="pl-s"><span class="pl-pds">&quot;</span>apikey<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>***api key***<span class="pl-pds">&quot;</span></span>,
    <span class="pl-s"><span class="pl-pds">&quot;</span>endpoint<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>https://&lt;endpoint-url&gt;/wh-acd/api<span class="pl-pds">&quot;</span></span>,
    <span class="pl-s"><span class="pl-pds">&quot;</span>flow<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>wh_acd.ibm_clinical_insights_v1.0_standard_flow<span class="pl-pds">&quot;</span></span>
  }
}</pre>
</div> 
<h3> <a id="configuration-endpoints" class="anchor" href="#configuration-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration endpoints</h3> 
<p>These APIs are used for configuring the NLP engine that will be used to discover insights. Successful requests will return a 2xx status code. Requests using the GET method will also respond with a json object in the response body.</p> 
<table cellspacing="0" cellpadding="0" border="0"> 
 <thead> 
  <tr align="left"> 
   <th> &nbsp; </th> 
   <th> Method &amp;<br /> Endpoint</th> 
   <th> Body </th> 
   <th> Response Body on Success </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <th colspan="4" align="left"> Config Definition</th> 
  </tr> 
  <tr> 
   <td> Get All Configs </td> 
   <td> GET <br /><i><code>/all_configs</code></i> </td> 
   <td></td> 
   <td> Config definition names: 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>all_configs<span class="pl-pds">&quot;</span></span>: [
    <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>,
    <span class="pl-s"><span class="pl-pds">&quot;</span>quickconfig1<span class="pl-pds">&quot;</span></span>
  ]
}</pre>
    </div> </td> 
  </tr> 
  <tr> 
   <td> Add Named Config </td> 
   <td> PUT/POST <br /><i><code>/config/definition</code></i> </td> 
   <td>json config see: 
    <ul> 
     <li><a href="#configuration-definition">Configuration Definition</a></li> 
    </ul> </td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
  <tr> 
   <td> Delete Config </td> 
   <td> DELETE<br /><i><code>/config/{configName}</code></i> </td> 
   <td></td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
  <tr> 
   <td> Get Config Details </td> 
   <td> GET <br /><i><code>/config/{configName}</code></i> </td> 
   <td></td> 
   <td> Configuration json (sensitive data will be masked): <p>QuickUmls Example:</p> 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>name<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>quickconfig1<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>nlpServiceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>quickumls<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>config<span class="pl-pds">&quot;</span></span>: {
    <span class="pl-s"><span class="pl-pds">&quot;</span>endpoint<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://endpoint/match<span class="pl-pds">&quot;</span></span>
  }
}</pre>
    </div> <p>ACD Example:</p> 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>name<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>nlpServiceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acd<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>config<span class="pl-pds">&quot;</span></span>: {
    <span class="pl-s"><span class="pl-pds">&quot;</span>apikey<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>********************************************<span class="pl-pds">&quot;</span></span>,
    <span class="pl-s"><span class="pl-pds">&quot;</span>endpoint<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>https://endpoint/api<span class="pl-pds">&quot;</span></span>,
    <span class="pl-s"><span class="pl-pds">&quot;</span>flow<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>wh_acd.ibm_clinical_insights_v1.0_standard_flow<span class="pl-pds">&quot;</span></span>
  }
}
</pre>
    </div> </td> 
  </tr> 
 </tbody> 
 <tbody> 
  <tr>
   <th colspan="4" align="left"> Default NLP</th>
  </tr> 
  <tr> 
   <td> Make Config default </td> 
   <td> POST/PUT <br /><i><code>/config/setDefault?name={configName}</code></i> </td> 
   <td></td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
  <tr> 
   <td> Get Current Default Config </td> 
   <td> GET <br /><i><code>/config</code></i> </td> 
   <td></td> 
   <td> Current default configName: 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>config<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>
}</pre>
    </div> </td> 
  </tr> 
  <tr> 
   <td> Clear default config </td> 
   <td> POST/PUT <br /><i><code>/config/clearDefault</code></i> </td> 
   <td> </td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
 </tbody> 
 <tbody> 
  <tr>
   <th colspan="4" align="left"> Override NLP Engine for a resource </th>
  </tr> 
  <tr> 
   <td> Get all active overrides </td> 
   <td> GET <br /><i><code>/config/resource</code></i> </td> 
   <td></td> 
   <td> Dictionary of overrides: 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>AllergyIntolerance<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>Condition<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>
}</pre>
    </div> <p>If no overrides are defined:</p> 
    <div class="highlight highlight-source-json">
     <pre>{}</pre>
    </div> </td> 
  </tr> 
  <tr> 
   <td>Get the active override for a resource </td> 
   <td> GET <br /><i><code>/config/resource/{resource}</code></i> </td> 
   <td> </td> 
   <td> Dictionary of override: 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>Condition<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>acdconfig1<span class="pl-pds">&quot;</span></span>
}</pre>
    </div> <p>If no override is defined:</p> 
    <div class="highlight highlight-source-json">
     <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>AllergyIntolerance<span class="pl-pds">&quot;</span></span>: <span class="pl-c1">null</span>
}</pre>
    </div> </td> 
  </tr> 
  <tr> 
   <td>Add resource override</td> 
   <td>POST/PUT<br /><i><code>/config/resource/{resourcetype}/{configName}</code></i> </td> 
   <td></td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
  <tr> 
   <td>Delete a resource override</td> 
   <td>DELETE<br /><i><code>/config/resource/{resourcetype}</code></i> </td> 
   <td></td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
  <tr> 
   <td>Delete all resource overrides</td> 
   <td>DELETE<br /><i><code>/config/resource</code></i> </td> 
   <td></td> 
   <td>Status: <code>204 NO CONTENT</code> </td> 
  </tr> 
 </tbody> 
</table> 
<h1> <a id="error-responses" class="anchor" href="#error-responses" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Responses</h1> 
<p>Responses with status codes in the 4xx range usually have a json body with a &quot;message&quot; property with a human readable description. Other details about the error may also be included in the structure.</p> 
<h2> <a id="example-response-when-an-invalid-json-is-sent-to-the-discoverinsights-api" class="anchor" href="#example-response-when-an-invalid-json-is-sent-to-the-discoverinsights-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example response when an invalid json is sent to the discoverInsights API:</h2> 
<ul> 
 <li>Status Code = 400</li> 
</ul> 
<div class="highlight highlight-source-json">
 <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>message<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Resource was not valid json: Expecting property name enclosed in double quotes: line 29 column 10 (char 676)<span class="pl-pds">&quot;</span></span>
}</pre>
</div> 
<h2> <a id="example-response-when-an-invalid-fhir-resource-is-sent-to-the-discoverinsights-api" class="anchor" href="#example-response-when-an-invalid-fhir-resource-is-sent-to-the-discoverinsights-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example response when an invalid FHIR resource is sent to the discoverInsights API</h2> 
<ul> 
 <li>Status Code = 400</li> 
</ul> 
<div class="highlight highlight-source-json">
 <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>message<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Resource was not valid<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>details<span class="pl-pds">&quot;</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>loc<span class="pl-pds">&quot;</span></span>: [
        <span class="pl-s"><span class="pl-pds">&quot;</span>reaction<span class="pl-pds">&quot;</span></span>,
        <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">&quot;</span>manifestation<span class="pl-pds">&quot;</span></span>,
        <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">&quot;</span>text2<span class="pl-pds">&quot;</span></span>
      ],
      <span class="pl-s"><span class="pl-pds">&quot;</span>msg<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>extra fields not permitted<span class="pl-pds">&quot;</span></span>,
      <span class="pl-s"><span class="pl-pds">&quot;</span>type<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>value_error.extra<span class="pl-pds">&quot;</span></span>
    }
  ]
}</pre>
</div>
</body>
</html>
